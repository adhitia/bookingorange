<!-- app/views/patients/new.html.erb -->
<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Form Pendaftaran Pasien</title>
  <%= csrf_meta_tags %>
  <%= csp_meta_tag %>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="flex items-center justify-center min-h-screen p-4" style="background-color: rgba(255,234,219,1);">
  <main class="w-full max-w-3xl bg-white rounded-3xl shadow-2xl p-8">

    <!-- Logo -->
    <div class="flex justify-center mb-4">
      <img src="https://00b0e33c.rocketcdn.me/wp-content/uploads/2023/07/Logo-Orange-Dental-Landscape-Flat-High-Res-12.png" alt="Logo Orange Dental" class="h-12 md:h-16 object-contain">
    </div>

    <h1 class="text-3xl font-extrabold text-center text-orange-600 mb-6">Form Pendaftaran Pasien</h1>

    <!-- Flash messages -->
    <% flash.each do |type, message| %>
      <% bg_color = type == 'notice' ? 'bg-green-100 border-green-500 text-green-700' : 'bg-red-100 border-red-500 text-red-700' %>
      <div class="mb-4 px-4 py-3 border-l-4 <%= bg_color %> rounded-md" role="alert">
        <p class="font-medium"><%= message %></p>
      </div>
    <% end %>

    <%= form_with(model: @patient, local: true, html: { class: 'space-y-4' }) do |f| %>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <%= f.label :full_name, "Nama Lengkap", class: "block font-medium text-gray-700" %>
          <%= f.text_field :full_name, required: true, class: "mt-1 block w-full border border-gray-300 rounded-lg p-2" %>
        </div>

        <div>
          <%= f.label :identity_number, "No. KTP / SIM / Passport", class: "block font-medium text-gray-700" %>
          <%= f.text_field :identity_number, class: "mt-1 block w-full border border-gray-300 rounded-lg p-2" %>
        </div>

        <div>
          <%= f.label :gender, "Jenis Kelamin", class: "block font-medium text-gray-700" %>
          <%= f.select :gender, ['Laki-Laki', 'Perempuan'], {}, class: "mt-1 block w-full border border-gray-300 rounded-lg p-2" %>
        </div>

        <div>
          <%= f.label :place_of_birth, "Tempat Lahir", class: "block font-medium text-gray-700" %>
          <%= f.text_field :place_of_birth, required: true, class: "mt-1 block w-full border border-gray-300 rounded-lg p-2" %>
        </div>

        <div>
          <%= f.label :date_of_birth, "Tanggal Lahir", class: "block font-medium text-gray-700" %>
          <%= f.date_field :date_of_birth, required: true, class: "mt-1 block w-full border border-gray-300 rounded-lg p-2" %>
        </div>

        <div>
          <%= f.label :phone_number, "No. Telp Pribadi", class: "block font-medium text-gray-700" %>
          <%= f.text_field :phone_number, required: true, class: "mt-1 block w-full border border-gray-300 rounded-lg p-2" %>
        </div>

        <div>
          <%= f.label :email, "Email", class: "block font-medium text-gray-700" %>
          <%= f.email_field :email, required: true, class: "mt-1 block w-full border border-gray-300 rounded-lg p-2" %>
        </div>

        <div class="md:col-span-2">
          <%= f.label :address, "Alamat (sesuai identitas)", class: "block font-medium text-gray-700" %>
          <%= f.text_area :address, required: true, rows: 3, class: "mt-1 block w-full border border-gray-300 rounded-lg p-2" %>
        </div>

        <div>
          <%= f.label :subdistrict, "Kelurahan", class: "block font-medium text-gray-700" %>
          <%= f.text_field :subdistrict, class: "mt-1 block w-full border border-gray-300 rounded-lg p-2" %>
        </div>

        <div>
          <%= f.label :district, "Kecamatan", class: "block font-medium text-gray-700" %>
          <%= f.text_field :district, class: "mt-1 block w-full border border-gray-300 rounded-lg p-2" %>
        </div>

        <div>
          <%= f.label :city, "Kabupaten/Kota", class: "block font-medium text-gray-700" %>
          <%= f.text_field :city, class: "mt-1 block w-full border border-gray-300 rounded-lg p-2" %>
        </div>

        <div>
          <%= f.label :province, "Provinsi", class: "block font-medium text-gray-700" %>
          <%= f.text_field :province, class: "mt-1 block w-full border border-gray-300 rounded-lg p-2" %>
        </div>

        <div>
          <%= f.label :blood_type, "Golongan Darah", class: "block font-medium text-gray-700" %>
          <%= f.select :blood_type, ['A', 'B', 'AB', 'O'], {}, class: "mt-1 block w-full border border-gray-300 rounded-lg p-2" %>
        </div>

        <div>
          <%= f.label :emergency_contact_name, "Nama Kontak Darurat", class: "block font-medium text-gray-700" %>
          <%= f.text_field :emergency_contact_name, required: true, class: "mt-1 block w-full border border-gray-300 rounded-lg p-2" %>
        </div>

        <div class="md:col-span-2">
          <%= f.label :emergency_contact_phone, "No. Telp Kontak Darurat", class: "block font-medium text-gray-700" %>
          <%= f.text_field :emergency_contact_phone, required: true, class: "mt-1 block w-full border border-gray-300 rounded-lg p-2" %>
        </div>
      </div>

      <div class="flex justify-center mt-6">
        <%= f.submit "Simpan", class: "bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-6 rounded-full shadow-md transition duration-300" %>
      </div>
    <% end %>

  </main>
</body>
</html>
